# 初めてのprocessing 第四回 クラスを使ってみる

## クラスとは
クラスとは、複数の変数と関数をまとめたものである。クラスではまとめられた変数をフィールド、関数をメソッドと呼ぶ。

processingでは標準で利用できるクラスがたくさん用意されている。  
例として、
* Stringクラス
* ArrayListクラス
* PImageクラス
* PGraphicsクラス
などを挙げることができる。

前回までの資料でさんざん書かれていたString.format()もメソッドである。

## インスタンスについて
クラスを扱うには、インスタンスと呼ばれるクラスの実体を作る必要がある。  
なぜなら、クラスというのはあくまで型のような働きをするのであって、実際に値を持っているわけではないからである。

processingでの`"abc"`のような文字列リテラルは全て、StringクラスのインスタンスとしてふるまうためStringクラスを使用する際はあまり気にしていなかったと思う。

```java
void setup(){
  String str="abc";//Stringクラスの変数に"abc"のインスタンスを代入している
}
```
図1. Stringのメソッドが使用できる

インスタンスを作成するためには`new クラス名()`のように書かなければならない。配列も一種のクラスである。
変数はインスタンスを共有しており、一方で変更されるともう一方も変化してしまう。

そのため、インスタンスを共有させないためには個別にnewする必要がある。
[第二回の図15](第二回.md#図15)のような現象が起こるのは二つの変数が同一のインスタンスを見ていたからである。

## Stringクラス
```java
void setup(){
  println("abc".charAt(0));//先頭の文字GET!
}
```
図2. Stringのメソッドが使用できる

文字列定数としてふるまう。定数であるため、中の文字列は変化しない。

```java
void setup(){
  String a="test1";
  String b="test2";
  String c=b;

  b+=a;//ここでbには、bとaが連結した内容の新たなインスタンスが代入されている

  println(b);
  println(c);
}
```
図3. 文字列は変化していない

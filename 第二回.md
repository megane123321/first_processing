# 初めてのprocessing 第二回 制御文と配列
## 制御文
制御文とはプログラムの実行の分岐/繰り返しを行うための文である。  
代表的なものは以下のとおりである。
* if文/else文
* switch文
* while文
* do-while文
* for文

## if文/else文
条件によって実行を分岐させる文。
`if (条件式) 文`と書くことで分岐させることができる。
if文の後の文は条件式が真であるときに実行される。  
基本的にifの後の文には複合文が使用される。

<div id="表1"></div>

表1. 条件式に利用できる記号
|記号|例|意味|
|-|-|-|
|`==`|`a==b`|等値のとき|
|`!=`|`a!=b`|値が等しくないとき|
|`<`|`a<b`|左より右が大きいとき|
|`>`|`a>b`|右より左が大きいとき|
|`<=`|`a<=b`|左が右以下のとき|
|`>=`|`a>=b`|左が右以上のとき|
|`&&`|`a>b&&b>c`|左右の条件を両方とも満たしているとき|
|`\|\|`|`a>b\|\|b>c`|左右の条件をどちらかが満たしているとき|

[図1](#図1)にifを使用したプログラム例を示す。

<div id="図1"></div>

```java
void setup(){
  size(500,500);
  x=WIDTH/2;
  plass=true;
}

int x;
boolean plass;
final int WIDTH=100;

void draw(){
  background(255);
  rect(x-WIDTH/2,(height-WIDTH)/2,WIDTH,WIDTH);
  if (plass){//plassがtrueのとき
    x++;
  }
  if (!plass){//plassがfalseのとき
    x--;
  }
  if (x<=WIDTH/2){//箱の位置が左についたとき
    plass=true;
  }
  if (x>=width-WIDTH/2){//箱の位置が右についたとき
    plass=false;
  }
}
```
図1. ifを使用したプログラム

`if (条件式) 文 else 文`と書くと条件式が真であるときifの後の文が、条件式が偽であるときelseの後の文が実行される。  
elseも使用して[図1](#図1)を書き直したプログラム例を[図2](#図2)に示す。

<div id="図2"></div>

```java
void setup(){
  size(500,500);
  x=WIDTH/2;
  plass=true;
}

int x;
boolean plass;
final int WIDTH=100;

void draw(){
  background(255);
  rect(x-WIDTH/2,(height-WIDTH)/2,WIDTH,WIDTH);
  if (plass){//plassがtrueのとき
    x++;
  }else{//plassがfalseのとき
    x--;
  }
  if (x<=WIDTH/2){//箱の位置が左についたとき
    plass=true;
  }
  if (x>=width-WIDTH/2){//箱の位置が右についたとき
    plass=false;
  }
}
```
図2. elseも使用したプログラム

また、ifも文であるためelseの後に指定可能である。

<div id="図3"></div>

```java
void setup(){
  size(500,500);
}

void draw(){
  if (mouseX<width/4){
    background(255,200,200);
  }else if (mouseX<width/2){
    background(200,255,200);
  }else if (mouseX<width*3/4){
    background(200,200,255);
  }else{
    background(255);
  }
}
```
図3. elseの後にifで複数分岐

## switch文
switch文は複数の分岐を行える文である。

<div id="図4"></div>

```java
switch (変数){
  case 値:
  実行コード //分岐1
  break;//switchから脱出

  case 値:
  実行コード //分岐2
  break;

  default: //他のどの分岐にも該当しなかったとき
  実行コード
  break;
}
```
図4. switchの構文

breakはswitch文から脱出する役割を持っているためbreakを書き忘れると、次の分岐のコードを実行してしまう。
しかし、それを逆手にとったコードを組むことができる。

<div id="図5"></div>

```java
void setup(){
  int a=(int)random(10);
  println(String.format("a=%1$d",a));//aの値の表示
  switch (a){//分岐させる
    case 0:
    case 1:
    case 2:
    println("小さめ");
    break;

    case 3:
    case 4:
    case 5:
    case 6:
    println ("普通");
    break;

    case 7:
    case 8:
    case 9:
    println ("大きい");
    break;

    default:
    println ("その他");
    break;
  }
}
```
図5. 一部breakを使わなかった例

また、caseには定数も指定可能である。

<div id="図6"></div>

```java
void draw(){
}

void keyPressed(){
  switch(keyCode){
    case UP:
    println("上");
    break;
    
    case RIGHT:
    println("右");
    break;
    
    case DOWN:
    println("下");
    break;
    
    case LEFT:
    println("左");
    break;
    
    default:
    println("その他のキー");
    break;
  }
}
```
図6. caseに定数を指定した例

## while文
while文は`while (条件式) 文`で条件式が真のとき、文を繰り返し実行する文である。
例えば、変数`i`を出力しながら0から10まで増やすときは以下のように書く。

<div id="図7"></div>

```java
void setup(){
  int i=0;
  while (i<10){
    println(i);
    i++;
  }
}
```
図7. 出力しながらカウントアップ

## do-while文
while文は`do 文 while(条件式)`で条件式が真のとき、文を繰り返し実行する文である。
例えば、[図7](#図7)と同じ動作をさせるときは以下のように書く。

<div id="図8"></div>

```java
void setup(){
  int i=0;
  do{
    println(i);
    i++;
  }while (i<10);
}
```
図8. 出力しながらカウントアップ

while文と異なる点はwhile文はループするかの判定をループ前に行っているのに対し、do-whileはループするかの判定をループ後に行っている点である。

<div id="図9"></div>

```java
void setup(){
  do{
    println("do-while");//ループ後に判定をするため必ず一回は実行される
  }while(false);
}
```
図9. do-whileの特徴

## for文
for文は`for(ループ開始前に一度実行する文;条件式;ループ時に実行される文) 文`と書き条件式が真のとき文を繰り返し実行する文である。
whileと同じでループするかの判定はループ前に行う。
例えば、[図7](#図7)と同じ動作をさせるときは以下のように書く。

<div id="図10"></div>

```java
void setup(){
  for (int i=0;i<10;i++){
    println(i);
  }
}
```
図10. [図7](#図7)とまったく同じ動作を行う

## 配列
配列は複数の値をひとまとめにして扱うことのできるデータ構造である。`型[] 配列名=new 型[要素数]`のようにして宣言する。

<div id="図11"></div>

```java
void setup(){
  int[] array=new int[5];
  println(array);
}
```
図11. 要素数5のint型の配列を作る

内部の要素にアクセスするには`配列名[要素が何番目にあるか]`でアクセスできる。
配列の要素が0番目から始まることに注意。

<div id="図12"></div>

```java
void setup(){
  int[] array=new int[5];
  array[3]=10;
  println(array);
}
```
図12. 3番目の要素に変更を加える

配列の長さは`配列名.length`で取得でき、これをループ文の条件式に用いることで配列の初期化を容易に行うことができる。

<div id="図13"></div>

```java
void setup(){
  int[] array=new int[5];
  for (int i=0;i<array.length;i++){
    array[i]=i;
  }
  println(array);
}
```
図13. 配列はfor文と相性が良い
